<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RevisX - Science Journal for Young Minds</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts for Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Tailwind config for consistent styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        .font-heading {
            font-family: 'Inter', sans-serif; /* Ensure headings also use Inter */
        }

        /* Define custom colors for Tailwind */
        :root {
            --reviz-blue: #3B82F6; /* blue-500 */
            --reviz-green: #10B981; /* green-500 */
            --reviz-orange: #F97316; /* orange-500 */
            --reviz-purple: #8B5CF6; /* purple-500 */
        }

        .text-revizBlue { color: var(--reviz-blue); }
        .bg-revizBlue\/10 { background-color: rgba(59, 130, 246, 0.1); }
        .hover\:text-revizBlue:hover { color: var(--reviz-blue); }
        .border-revizBlue { border-color: var(--reviz-blue); }
        .bg-revizBlue\/5 { background-color: rgba(59, 130, 246, 0.05); }

        .text-revizGreen { color: var(--reviz-green); }
        .bg-revizGreen\/10 { background-color: rgba(16, 185, 129, 0.1); }
        .hover\:text-revizGreen:hover { color: var(--reviz-green); }
        .bg-gradient-to-r.from-revizGreen\/5 { background-image: linear-gradient(to right, rgba(16, 185, 129, 0.05), rgba(59, 130, 246, 0.05)); }

        .text-revizOrange { color: var(--reviz-orange); }
        .hover\:text-revizOrange:hover { color: var(--reviz-orange); }

        .text-revizPurple { color: var(--reviz-purple); }
        .bg-revizPurple { background-color: var(--reviz-purple); }
        .hover\:bg-revizPurple\/90:hover { background-color: rgba(139, 92, 246, 0.9); }
        .hover\:text-revizPurple:hover { color: var(--reviz-purple); }

        /* Specific styles for the Table of Contents */
        .toc-link.active {
            font-weight: 600; /* Semi-bold */
            color: var(--reviz-blue); /* Highlight active link */
            border-left-color: var(--reviz-blue); /* Blue border for active */
        }
        .toc-link {
            transition: all 0.2s ease-in-out;
        }

        /* Custom prose styles for better readability */
        .prose-custom h2 {
            font-size: 2.25rem; /* text-4xl */
            margin-top: 2.5em; /* More space above main sections */
            margin-bottom: 1em;
            padding-bottom: 0.5em;
            font-weight: 700; /* Bold headers */
            position: relative;
        }
        .prose-custom h2::after {
            content: "";
            display: block;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            border-bottom: 4px solid #1e293b;
        }
        .prose-custom h3 {
            font-size: 1.75rem; /* text-3xl */
            margin-top: 2em;
            margin-bottom: 0.75em;
            padding-bottom: 0.3em;
            position: relative;
        }
        .prose-custom h3::after {
            content: "";
            display: block;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            border-bottom: 2px solid #64748b;
        }
        .prose-custom p {
            font-size: 1.125rem; /* text-lg */
            line-height: 1.75; /* leading-relaxed */
            margin-bottom: 1.25em;
        }
        .prose-custom ol, .prose-custom ul {
            font-size: 1.125rem; /* text-lg */
            line-height: 1.75;
            margin-bottom: 1.25em;
            padding-left: 1.5em;
        }
        .prose-custom li {
            margin-bottom: 0.5em;
        }
        .prose-custom blockquote {
            font-size: 1.5rem; /* text-2xl */
            border-left: 4px solid var(--reviz-blue);
            background-color: rgba(59, 130, 246, 0.05);
            padding: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
            color: #4b5563; /* gray-700 */
        }
        body.chatbot-active nav .container {
            margin-right: 390px; /* Match the content margin */
            transition: margin-right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>
<body>
    <nav class="bg-white border-b border-gray-200 shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="revisx.svg" alt="RevisX Logo" class="h-20 w-auto">
            </a>
            <div class="hidden md:flex space-x-8">
                <a href="index.html" class="text-gray-600 hover:text-revizBlue font-medium">Home</a>
                <a href="divisions.html" class="text-gray-600 hover:text-revizGreen font-medium">Divisions</a>
                <a href="articles.html" class="text-gray-600 hover:text-revizOrange font-medium">Articles</a>
                <a href="#" class="text-gray-600 hover:text-revizPurple font-medium">About</a>
                <a href="http://localhost:5173/" class="text-gray-600 hover:text-gray-800 font-medium" target="_blank" rel="noopener">Submit</a>
            </div>
        </div>
    </nav>

    <header class="bg-gradient-to-r from-revizGreen/5 to-revizBlue/5 py-12">
        <div class="container mx-auto px-4 max-w-3xl">
            <div class="mb-4 flex items-center gap-3">
                <span class="px-3 py-1 bg-revizGreen/10 text-revizGreen rounded-full text-xs font-semibold tracking-wide">Medicine &amp; Biology</span>
                <span class="px-3 py-1 bg-revizBlue/10 text-revizBlue rounded-full text-xs font-semibold tracking-wide">Genetics</span>
            </div>
            <h1 id="article-main-title" class="font-heading text-4xl md:text-5xl font-bold mb-4 text-gray-900 leading-tight tracking-tight">CRISPR: Rewriting the Code of Life</h1>
            <p class="text-lg text-gray-700 mb-6 max-w-2xl">How gene editing technology is revolutionizing medicine and what it means for our future.</p>
            <div class="flex flex-wrap items-center gap-6 text-gray-600 mb-8">
                <div class="flex items-center gap-3">
                    <img src="https://randomuser.me/api/portraits/women/43.jpg" alt="Dr. Sarah Chen" class="w-12 h-12 rounded-full object-cover border border-gray-200">
                    <div>
                        <span class="font-semibold text-gray-900">Dr. Sarah Chen</span>
                        <span class="block text-xs text-gray-500">Stanford University School of Medicine</span>
                    </div>
                </div>
                <span class="text-xs text-gray-500">Published: May 28, 2023</span>
                <span class="text-xs text-gray-500">Updated: June 10, 2023</span>
            </div>
            <figure class="bg-gray-100 rounded-xl overflow-hidden mb-8 shadow-lg max-w-5xl mx-auto">
                <img src="https://images.unsplash.com/photo-1511174511562-5f7f18b874f8?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="CRISPR gene editing illustration" class="w-full h-[300px] md:h-[400px] object-cover object-center">
                <figcaption class="text-base text-gray-600 py-3 text-center italic">Illustration of CRISPR-Cas9 gene editing system (Credit: Science Photo Library)</figcaption>
            </figure>
        </div>
    </header>

    <div class="container mx-auto px-4 py-12 max-w-7xl">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Main Article Content -->
            <div class="lg:w-full">
                <article id="crispr-article-content" class="prose max-w-none prose-lg md:prose-xl prose-headings:font-heading prose-headings:font-bold prose-headings:text-gray-900 prose-blockquote:font-serif prose-blockquote:text-2xl prose-blockquote:italic prose-blockquote:border-l-4 prose-blockquote:border-revizBlue prose-blockquote:bg-revizBlue/5 prose-blockquote:px-6 prose-blockquote:py-4 prose-custom">

                    <h2 id="abstract">Abstract</h2>
                    <p>The discovery of CRISPR-Cas9 has ushered in a new era of genetic engineering, offering unprecedented precision in editing DNA sequences. This revolutionary technology holds promise for treating genetic disorders, improving crops, and even potentially eliminating diseases. This article provides a concise overview of CRISPR's mechanism, its diverse therapeutic applications, and the critical ethical considerations surrounding its use.</p>

                    <p class="mt-8 text-sm text-gray-600"><strong>Keywords:</strong> CRISPR-Cas9, Gene Editing, Genetic Disorders, Biotechnology, Ethics, DNA Repair</p>

                    <h2 id="introduction">Introduction</h2>
                    <p>Clustered Regularly Interspaced Short Palindromic Repeats (CRISPR) and CRISPR-associated protein 9 (Cas9) form a system that allows scientists to edit genomes with remarkable precision, efficiency, and flexibility. Originally discovered as part of the bacterial immune system, CRISPR-Cas9 has been adapted for use in eukaryotic cells, including human cells.</p>
                    <figure class="float-right w-1/2 ml-8 mb-4">
                        <img src="https://images.unsplash.com/photo-1631048005738-ebeefaf19c7d?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDN8fHxlbnwwfHx8fHw%3D" alt="DNA strand" class="w-full h-auto rounded-lg">
                        <figcaption class="text-xs text-gray-500">DNA double helix structure (Credit: Getty Images)</figcaption>
                    </figure>
                    <p>The CRISPR system works by using a small piece of RNA sequence (guide RNA) to direct the Cas9 enzyme to a specific location in the genome. Once there, Cas9 cuts both strands of the DNA at that point. The cell's natural repair mechanisms then kick in to repair the break, during which scientists can introduce desired changes to the DNA sequence.</p>
                    <blockquote> "CRISPR is to genetic engineering what the PCR machine was to DNA replication—a complete game changer that makes the previously impossible suddenly routine." — Dr. Jennifer Doudna, Nobel Laureate </blockquote>

                    <h2 id="mechanism">Mechanism of Action</h2>
                    <p>The CRISPR-Cas9 system consists of two key components: **Guide RNA (gRNA)**, which directs the Cas9 enzyme to a specific genomic target, and **Cas9 Nuclease**, an enzyme that creates double-strand breaks in DNA. The specificity is derived from the gRNA, which recognizes a 20-nucleotide sequence, followed by a protospacer adjacent motif (PAM).</p>
                    <p>After Cas9 induces a double-strand break, the cell primarily uses two repair mechanisms:</p>
                    <ul>
                        <li><strong>Non-homologous end joining (NHEJ):</strong> An error-prone process leading to insertions or deletions (indels) that can disrupt gene function.</li>
                        <li><strong>Homology-directed repair (HDR):</strong> A precise mechanism utilizing a donor DNA template to introduce specific changes at the break site.</li>
                    </ul>

                    <h2 id="applications">Therapeutic Applications</h2>
                    <p>CRISPR technology offers immense potential for treating genetic disorders and advancing medical therapies:</p>
                    <h3 id="sickle-cell">Sickle Cell Disease</h3>
                    <p>Clinical trials show CRISPR's ability to edit hematopoietic stem cells, leading to fetal hemoglobin production and potential cures for sickle cell disease.</p>
                    <h3 id="cancer">Cancer Immunotherapy</h3>
                    <p>Researchers are engineering T cells with CRISPR to enhance their cancer-fighting capabilities, developing personalized immunotherapies.</p>
                    <h3 id="eye">Inherited Eye Diseases</h3>
                    <p>Direct ocular injection of CRISPR components has demonstrated promise in treating inherited retinal diseases like Leber congenital amaurosis.</p>

                    <h2 id="ethics">Ethical Considerations</h2>
                    <p>Despite its promise, CRISPR raises significant ethical questions that require careful consideration:</p>
                    <h3 id="germline">Germline Editing</h3>
                    <p>The potential for heritable changes to the human genome raises concerns about unintended consequences and the concept of "designer babies."</p>
                    <h3 id="equity">Equity and Access</h3>
                    <p>Ensuring equitable access to these powerful technologies is crucial to prevent exacerbating existing health disparities.</p>
                    <h3 id="off-target">Off-Target Effects</h3>
                    <p>While highly precise, CRISPR can sometimes make unintended edits at other genomic locations, leading to unforeseen consequences.</p>

                    <h2 id="references">References</h2>
                    <p>A comprehensive list of scientific literature supporting the findings and discussions presented in this article can be found [Link to References Section/Page].</p>
                </article>
            </div>
        </div>
    </div>

    <div id="chatbot-parent"></div>

    <style>
        .toc-sidebar {
            position: sticky;
            top: 20px;
            padding: 20px;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .toc-content {
            width: 100%;
        }
        .toc-content h3 {
            margin-bottom: 15px;
            color: #1a1a1a;
        }
        .toc-content ul {
            max-height: none;
            overflow-y: visible;
        }
        .toc-link {
            display: block;
            padding: 8px 12px;
            color: #4b5563;
            font-size: 0.95rem;
            border-left: 2px solid transparent;
            transition: all 0.2s ease;
        }
        .toc-link:hover {
            color: var(--reviz-blue);
            background: #f3f4f6;
            border-left-color: var(--reviz-blue);
        }
        .toc-link.active {
            color: var(--reviz-blue);
            font-weight: 600;
            border-left-color: var(--reviz-blue);
            background: #f3f4f6;
        }
        @media (max-width: 768px) {
            .toc-sidebar {
                display: none;
            }
        }
    </style>

    <!-- Footer (from index.html) -->
    <footer class="bg-gray-50 py-12 border-t border-gray-200 relative z-10">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="font-heading text-xl font-bold text-gray-800 mb-4">RevisX</h3>
                    <p class="text-gray-600 text-sm">
                        Making cutting-edge science accessible for the next generation of researchers.
                    </p>
                    <div class="flex space-x-4 mt-6">
                        <a href="#" class="text-gray-500 hover:text-revizBlue transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-revizGreen transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-revizPurple transition-colors">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-gray-800 transition-colors">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="text-gray-800 font-bold text-sm uppercase mb-4">Divisions</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-revizBlue transition-colors text-sm">Medicine & Biology</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizGreen transition-colors text-sm">Physics & Computer Science</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizPurple transition-colors text-sm">All Research Areas</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-gray-800 font-bold text-sm uppercase mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-revizBlue transition-colors text-sm">Articles</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizGreen transition-colors text-sm">Research Guides</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizPurple transition-colors text-sm">For Educators</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-gray-800 transition-colors text-sm">For Students</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-gray-800 font-bold text-sm uppercase mb-4">Organization</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-revizBlue transition-colors text-sm">About REVIZ</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizGreen transition-colors text-sm">Our Team</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizPurple transition-colors text-sm">Submit Research</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-gray-800 transition-colors text-sm">Contact Us</a></li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-gray-200 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-sm">
                    © 2023 RevisX Science Journal. All rights reserved.
                </p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="#" class="text-gray-500 hover:text-gray-800 text-sm">Privacy Policy</a>
                    <a href="#" class="text-gray-500 hover:text-gray-800 text-sm">Terms of Service</a>
                    <a href="#" class="text-gray-500 hover:text-gray-800 text-sm">Cookies</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Custom Tailwind configuration
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        revizBlue: '#3B82F6',
                        revizGreen: '#10B981',
                        revizOrange: '#F97316',
                        revizPurple: '#8B5CF6',
                    },
                },
            },
        };

        // JavaScript for dynamic Table of Contents with iOS-style scroll
        document.addEventListener('DOMContentLoaded', () => {
            const articleContent = document.getElementById('crispr-article-content');
            const tocContainer = document.getElementById('table-of-contents');
            
            // Get all H2 headings between Abstract and References
            const allHeadings = articleContent.querySelectorAll('h2');
            const headings = Array.from(allHeadings).filter(heading => {
                const id = heading.id;
                return id === 'abstract' || id === 'introduction' || id === 'mechanism' || 
                       id === 'applications' || id === 'ethics' || id === 'references';
            });

            // Generate Table of Contents
            const tocList = document.createElement('ul');
            tocList.classList.add('space-y-2');

            headings.forEach(heading => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = `#${heading.id}`;
                link.textContent = heading.textContent;
                link.classList.add('block', 'py-1', 'px-3', 'rounded-md', 'text-gray-700', 'hover:bg-gray-100', 'hover:text-revizBlue', 'transition-colors', 'border-l-2', 'border-transparent', 'toc-link', 'font-medium');

                listItem.appendChild(link);
                tocList.appendChild(listItem);
            });
            tocContainer.appendChild(tocList);

            // Scroll-spy functionality and handle clicks on ToC links
            tocContainer.addEventListener('click', (event) => {
                if (event.target.tagName === 'A' && event.target.closest('#table-of-contents')) {
                    event.preventDefault();
                    const targetId = event.target.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                }
            });

            // Initialize and use a single IntersectionObserver for scroll spy
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        const tocLink = tocContainer.querySelector(`a[href="#${id}"]`);
                        
                        if (tocLink) {
                            // Update active link
                            tocContainer.querySelectorAll('.toc-link').forEach(link => {
                                link.classList.remove('active');
                            });
                            tocLink.classList.add('active');
                        }
                    }
                });
            }, {
                root: null,
                rootMargin: '0px',
                threshold: 0.5
            });

            // Observe headings
            headings.forEach(heading => observer.observe(heading));
        });
    </script>
    <script src="/public/js/chatbot-widget.js?v=1.1"></script>
</body>
</html>
