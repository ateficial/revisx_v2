<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RevisX - {{title}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Tailwind config for consistent styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        .font-heading {
            font-family: 'Inter', sans-serif; /* Ensure headings also use Inter */
        }

        /* Define custom colors for Tailwind */
        :root {
            --reviz-blue: #3B82F6; /* blue-500 */
            --reviz-green: #10B981; /* green-500 */
            --reviz-orange: #F97316; /* orange-500 */
            --reviz-purple: #8B5CF6; /* purple-500 */
        }

        .text-revizBlue { color: var(--reviz-blue); }
        .bg-revizBlue\/10 { background-color: rgba(59, 130, 246, 0.1); }
        .hover\:text-revizBlue:hover { color: var(--reviz-blue); }
        .border-revizBlue { border-color: var(--reviz-blue); }
        .bg-revizBlue\/5 { background-color: rgba(59, 130, 246, 0.05); }

        .text-revizGreen { color: var(--reviz-green); }
        .bg-revizGreen\/10 { background-color: rgba(16, 185, 129, 0.1); }
        .hover\:text-revizGreen:hover { color: var(--reviz-green); }
        .bg-gradient-to-r.from-revizGreen\/5 { background-image: linear-gradient(to right, rgba(16, 185, 129, 0.05), rgba(59, 130, 246, 0.05)); }

        .text-revizOrange { color: var(--reviz-orange); }
        .hover\:text-revizOrange:hover { color: var(--reviz-orange); }

        .text-revizPurple { color: var(--reviz-purple); }
        .bg-revizPurple { background-color: var(--reviz-purple); }
        .hover\:bg-revizPurple\/90:hover { background-color: rgba(139, 92, 246, 0.9); }
        .hover\:text-revizPurple:hover { color: var(--reviz-purple); }

        /* Specific styles for the Table of Contents */
        .toc-link.active {
            font-weight: 600; /* Semi-bold */
            color: var(--reviz-blue); /* Highlight active link */
            border-left-color: var(--reviz-blue); /* Blue border for active */
        }
        .toc-link {
            transition: all 0.2s ease-in-out;
        }

        /* Custom prose styles for better readability */
        .prose-custom h2 {
            font-size: 2.25rem; /* text-4xl */
            margin-top: 2.5em; /* More space above main sections */
            margin-bottom: 1em;
            padding-bottom: 0.5em;
            font-weight: 700; /* Bold headers */
            position: relative;
        }
        .prose-custom h2::after {
            content: "";
            display: block;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            border-bottom: 4px solid #1e293b;
        }
        .prose-custom h3 {
            font-size: 1.75rem; /* text-3xl */
            margin-top: 2em;
            margin-bottom: 0.75em;
            padding-bottom: 0.3em;
            position: relative;
        }
        .prose-custom h3::after {
            content: "";
            display: block;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            border-bottom: 2px solid #64748b;
        }
        .prose-custom p {
            font-size: 1.125rem; /* text-lg */
            line-height: 1.75; /* leading-relaxed */
            margin-bottom: 1.25em;
        }
        .prose-custom ol, .prose-custom ul {
            font-size: 1.125rem; /* text-lg */
            line-height: 1.75;
            margin-bottom: 1.25em;
            padding-left: 1.5em;
        }
        .prose-custom li {
            margin-bottom: 0.5em;
        }
        .prose-custom blockquote {
            font-size: 1.5rem; /* text-2xl */
            border-left: 4px solid var(--reviz-blue);
            background-color: rgba(59, 130, 246, 0.05);
            padding: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
            color: #4b5563; /* gray-700 */
        }
        .toc-sidebar {
            position: sticky;
            top: 20px;
            padding: 20px;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .toc-content h3 {
            margin-bottom: 15px;
            color: #1a1a1a;
        }
        .toc-content ul {
            max-height: none;
            overflow-y: visible;
        }
        .toc-link {
            display: block;
            padding: 8px 12px;
            color: #4b5563;
            font-size: 0.95rem;
            border-left: 2px solid transparent;
            transition: all 0.2s ease;
        }
        .toc-link:hover {
            color: var(--reviz-blue);
            background: #f3f4f6;
            border-left-color: var(--reviz-blue);
        }
        .toc-link.active {
            color: var(--reviz-blue);
            font-weight: 600;
            border-left-color: var(--reviz-blue);
            background: #f3f4f6;
        }
        @media (max-width: 1024px) {
            .toc-sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar from crispr-article.html -->
    <nav class="bg-white border-b border-gray-200 shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="REVISX_final.svg" alt="RevisX Logo" class="h-10 w-auto rounded-full">
            </a>
            <div class="hidden md:flex space-x-8">
                <a href="index.html" class="text-gray-600 hover:text-revizBlue font-medium">Home</a>
                <a href="divisions.html" class="text-gray-600 hover:text-revizGreen font-medium">Divisions</a>
                <a href="articles.html" class="text-gray-600 hover:text-revizOrange font-medium">Articles</a>
                <a href="about.html" class="text-gray-600 hover:text-revizPurple font-medium">About</a>
                <a href="http://localhost/ojs-3.5.0-1/index.php/revisx/submissions" class="text-gray-600 hover:text-gray-800 font-medium">Submit</a>
            </div>
            <div class="md:hidden">
                <button class="text-gray-600 hover:text-revizBlue">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <header class="bg-gradient-to-r from-revizGreen/5 to-revizBlue/5 py-12">
        <div class="container mx-auto px-4 max-w-5xl">
            <!-- Article Categories -->
            <div class="mb-4 flex flex-wrap items-center gap-3">
                <!-- Use dynamic placeholders for categories -->
                {{subject_tags}}
            </div>
            <h1 id="article-main-title" class="font-heading text-4xl md:text-5xl font-bold mb-4 text-gray-900 leading-tight tracking-tight">{{title}}</h1>
            <p class="text-lg text-gray-700 mb-6 max-w-2xl">{{description}}</p>
            <div class="flex flex-wrap items-center gap-6 text-gray-600 mb-8">
                <div class="flex items-center gap-3">
                    <img src="https://placehold.co/48x48/64748b/fff?text=A" alt="{{authors}}" class="w-12 h-12 rounded-full object-cover border border-gray-200">
                    <div>
                        <span class="font-semibold text-gray-900">{{authors}}</span>
                    </div>
                </div>
                <span class="text-xs text-gray-500">Published: {{date}}</span>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-12 max-w-7xl">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Table of Contents Sidebar -->
            <aside class="hidden lg:block lg:w-1/4">
                <div id="table-of-contents" class="toc-sidebar">
                    <h3 class="font-heading font-bold text-lg mb-4 text-gray-900">Contents</h3>
                    <!-- Dynamic ToC will be generated here by JavaScript -->
                </div>
            </aside>
            <!-- Main Article Content -->
            <div class="lg:w-3/4">
                <article id="article-content" class="prose max-w-none prose-lg md:prose-xl prose-headings:font-heading prose-headings:font-bold prose-headings:text-gray-900 prose-blockquote:font-serif prose-blockquote:text-2xl prose-blockquote:italic prose-blockquote:border-l-4 prose-blockquote:border-revizBlue prose-blockquote:bg-revizBlue/5 prose-blockquote:px-6 prose-blockquote:py-4 prose-custom">
                    <!-- Abstract Section -->
                    <div class="p-6 bg-white border border-gray-200 rounded-xl shadow-sm mb-8">
                        <h2 id="abstract">Abstract</h2>
                        <p>{{description}}</p>
                    </div>
                    
                    <!-- Article Body Sections. These are placeholders. You can replace this with your actual article content. -->
                    <h2 id="introduction">1. Introduction</h2>
                    <p>This is the introductory section of the article. It provides background on the topic and states the purpose of the research. You can add images, blockquotes, lists, and other elements here. The custom CSS will ensure it's styled correctly.</p>

                    <h2 id="methods">2. Methods</h2>
                    <p>This section details the methodology used in the research. It is important to be thorough so that others can replicate your work. You can use ordered or unordered lists to detail steps or materials.</p>
                    <p>For example:</p>
                    <ul>
                        <li>Step A: Collect data from sources.</li>
                        <li>Step B: Analyze data using statistical software.</li>
                        <li>Step C: Interpret the findings.</li>
                    </ul>

                    <h2 id="results">3. Results</h2>
                    <p>Here you present the objective findings of your study. Figures and tables can be included to visualize your data. Remember to describe the results in the text and reference any visual aids you include.</p>

                    <h2 id="discussion">4. Discussion</h2>
                    <p>This section is for interpreting your results, discussing their implications, and relating them to existing literature. You can use blockquotes for impactful quotes from other sources or for emphasis.</p>
                    <blockquote>
                        "This study's findings suggest a significant correlation between X and Y, a result that challenges previous assumptions in the field."
                    </blockquote>

                    <h2 id="conclusion">5. Conclusion</h2>
                    <p>A summary of your key findings and a final statement on the overall contribution of your research.</p>

                    <h2 id="references">6. References</h2>
                    <p>This is the bibliography. A list of sources cited in your article should be placed here, formatted according to your chosen style guide.</p>
                </article>
            </div>
        </div>
    </div>

    <!-- Footer from crispr-article.html -->
    <footer class="bg-gray-50 py-12 border-t border-gray-200 relative z-10">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="font-heading text-xl font-bold text-gray-800 mb-4">RevisX</h3>
                    <p class="text-gray-600 text-sm">
                        Making cutting-edge science accessible for the next generation of researchers.
                    </p>
                    <div class="flex space-x-4 mt-6">
                        <a href="#" class="text-gray-500 hover:text-revizBlue transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-revizGreen transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-revizPurple transition-colors">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-gray-800 transition-colors">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h4 class="text-gray-800 font-bold text-sm uppercase mb-4">Divisions</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-revizBlue transition-colors text-sm">Medicine & Biology</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizGreen transition-colors text-sm">Physics & Computer Science</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizPurple transition-colors text-sm">All Research Areas</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-gray-800 font-bold text-sm uppercase mb-4">Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-revizBlue transition-colors text-sm">Articles</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizGreen transition-colors text-sm">Research Guides</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizPurple transition-colors text-sm">For Educators</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-gray-800 transition-colors text-sm">For Students</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-gray-800 font-bold text-sm uppercase mb-4">Organization</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-revizBlue transition-colors text-sm">About REVIZ</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-revizGreen transition-colors text-sm">Our Team</a></li>
                        <li><a href="http://localhost/ojs-3.5.0-1/index.php/revisx/submissions" class="text-gray-600 hover:text-revizPurple transition-colors text-sm">Submit Research</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-gray-800 transition-colors text-sm">Contact Us</a></li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-gray-200 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-sm">
                    © 2025 RevisX Science Journal. All rights reserved.
                </p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="#" class="text-gray-500 hover:text-gray-800 text-sm">Privacy Policy</a>
                    <a href="#" class="text-gray-500 hover:text-gray-800 text-sm">Terms of Service</a>
                    <a href="#" class="text-gray-500 hover:text-gray-800 text-sm">Cookies</a>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        // JavaScript for dynamic Table of Contents with iOS-style scroll
        document.addEventListener('DOMContentLoaded', () => {
            const articleContent = document.getElementById('article-content');
            const tocContainer = document.getElementById('table-of-contents');

            // Find all h2 headings inside the article-content div
            const headings = articleContent.querySelectorAll('h2[id]');

            // Generate Table of Contents
            const tocList = document.createElement('ul');
            tocList.classList.add('space-y-2');

            headings.forEach(heading => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = `#${heading.id}`;
                link.textContent = heading.textContent;
                link.classList.add('block', 'py-1', 'px-3', 'rounded-md', 'text-gray-700', 'hover:bg-gray-100', 'hover:text-revizBlue', 'transition-colors', 'border-l-2', 'border-transparent', 'toc-link', 'font-medium');

                listItem.appendChild(link);
                tocList.appendChild(listItem);
            });
            
            // Append the generated list to the TOC container
            tocContainer.appendChild(tocList);

            // Scroll-spy functionality and handle clicks on ToC links
            tocContainer.addEventListener('click', (event) => {
                if (event.target.tagName === 'A' && event.target.closest('#table-of-contents')) {
                    event.preventDefault();
                    const targetId = event.target.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                }
            });

            // Initialize and use a single IntersectionObserver for scroll spy
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        const tocLink = tocContainer.querySelector(`a[href="#${id}"]`);
                        
                        if (tocLink) {
                            // Update active link
                            tocContainer.querySelectorAll('.toc-link').forEach(link => {
                                link.classList.remove('active');
                            });
                            tocLink.classList.add('active');
                        }
                    }
                });
            }, {
                root: null,
                rootMargin: '0px',
                threshold: 0.5
            });

            // Observe headings
            headings.forEach(heading => observer.observe(heading));
        });
    </script>
</body>
</html>
